//  SP = 256
@256
D=A
@SP
M=D

@Sys.init
0;JMP

(__eq)
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@__0
D;JEQ
@SP
A=M
M=0
@__1
0;JMP
(__0)
@SP
A=M
M=-1
(__1)
@SP
M=M+1
@13
A=M
0;JMP

(__gt)
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@__2
D;JGT
@SP
A=M
M=0
@__3
0;JMP
(__2)
@SP
A=M
M=-1
(__3)
@SP
M=M+1
@13
A=M
0;JMP

(__lt)
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@__4
D;JLT
@SP
A=M
M=0
@__5
0;JMP
(__4)
@SP
A=M
M=-1
(__5)
@SP
M=M+1
@13
A=M
0;JMP

(__add)
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
M=M+D
@SP
M=M+1
@13
A=M
0;JMP

(__sub)
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
M=M-D
@SP
M=M+1
@13
A=M
0;JMP

(__or)
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
M=M|D
@SP
M=M+1
@13
A=M
0;JMP

(__and)
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
M=M&D
@SP
M=M+1
@13
A=M
0;JMP

(__neg)
@SP
M=M-1
A=M
M=-M
@SP
M=M+1
@13
A=M
0;JMP

(__not)
@SP
M=M-1
A=M
M=!M
@SP
M=M+1
@13
A=M
0;JMP

(__push_dynamic)
@15
D=M
@14
A=M
A=D+M
D=M
@SP
A=M
M=D
@SP
M=M+1
@13
A=M
0;JMP

(__push_static)
@14
A=M
D=M
@SP
A=M
M=D
@SP
M=M+1
@13
A=M
0;JMP

(__pop_static)
@SP
M=M-1
A=M
D=M
@14
A=M
M=D
@13
A=M
0;JMP

(__pop_dynamic)
@15
D=M
@14
A=M
D=D+M
@14
M=D
@SP
M=M-1
A=M
D=M
@14
A=M
M=D
@13
A=M
0;JMP

(__call_function)
@13
D=M
@SP
A=M
M=D
@SP
M=M+1
@LCL
D=M
@SP
A=M
M=D
@SP
M=M+1
@ARG
D=M
@SP
A=M
M=D
@SP
M=M+1
@THIS
D=M
@SP
A=M
M=D
@SP
M=M+1
@THAT
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
D=M
@5
D=D-A
@14
D=D-M
@ARG
M=D
@SP
D=M
@LCL
M=D
@15
A=M
0;JMP

(__return)
@5
D=A
@LCL
A=M-D
D=M
@14
M=D
@SP
A=M-1
D=M
@ARG
A=M
M=D
@ARG
D=M+1
@SP
M=D
@LCL
D=M
@13
M=D-1
A=M
D=M
@THAT
M=D
@13
M=M-1
A=M
D=M
@THIS
M=D
@13
M=M-1
A=M
D=M
@ARG
M=D
@13
M=M-1
A=M
D=M
@LCL
M=D
@14
A=M
0;JMP


//****************** start of text ******************

(Sys.init)


@4
D=A
@SP
A=M
M=D
@SP
M=M+1

@__RET__6
D=A
@13
M=D
@1
D=A
@14
M=D
@Main.fibonacci
D=A
@15
M=D
@__call_function
0;JMP
(__RET__6)

(Sys.init$WHILE)

@Sys.init$WHILE
0;JMP



(Main.fibonacci)


@__RET__7
D=A
@13
M=D
@2
D=A
@14
M=D
@0
D=A
@15
M=D
@__push_dynamic
0;JMP
(__RET__7)

@2
D=A
@SP
A=M
M=D
@SP
M=M+1

@__RET__8
D=A
@13
M=D
@__lt
0;JMP
(__RET__8)

@SP
A=M-1
D=M
@Main.fibonacci$IF_TRUE
D;JNE

@Main.fibonacci$IF_FALSE
0;JMP

(Main.fibonacci$IF_TRUE)

@__RET__9
D=A
@13
M=D
@2
D=A
@14
M=D
@0
D=A
@15
M=D
@__push_dynamic
0;JMP
(__RET__9)

@__return
0;JMP

(Main.fibonacci$IF_FALSE)

@__RET__10
D=A
@13
M=D
@2
D=A
@14
M=D
@0
D=A
@15
M=D
@__push_dynamic
0;JMP
(__RET__10)

@2
D=A
@SP
A=M
M=D
@SP
M=M+1

@__RET__11
D=A
@13
M=D
@__sub
0;JMP
(__RET__11)

@__RET__12
D=A
@13
M=D
@1
D=A
@14
M=D
@Main.fibonacci
D=A
@15
M=D
@__call_function
0;JMP
(__RET__12)

@__RET__13
D=A
@13
M=D
@2
D=A
@14
M=D
@0
D=A
@15
M=D
@__push_dynamic
0;JMP
(__RET__13)

@1
D=A
@SP
A=M
M=D
@SP
M=M+1

@__RET__14
D=A
@13
M=D
@__sub
0;JMP
(__RET__14)

@__RET__15
D=A
@13
M=D
@1
D=A
@14
M=D
@Main.fibonacci
D=A
@15
M=D
@__call_function
0;JMP
(__RET__15)

@__RET__16
D=A
@13
M=D
@__add
0;JMP
(__RET__16)

@__return
0;JMP



